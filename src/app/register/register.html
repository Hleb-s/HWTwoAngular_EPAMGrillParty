<div class="container" ng-controller="RegisterController">   
  <div class="col-md-6 col-md-offset-3 well">
          <div class="page-header">
      <h1><img class="register-img" src="/assets/images/register.ico"></img> Register</h1>
</div>
    <form name="registerForm" ng-submit="regContr.regPage()">
      <div id="firstname-group" class="form-group">
        <label>First Name<span class="required">&nbsp;*</span></label>
        <input type="text" class="form-control" name="firstname" ng-minlength=3 ng-maxlength=20 required
               ng-model="regContr.dataItem.firstname" ng-change="regContr.changeFirstName()" ng-model-options="{updateOn: 'blur'}"/>

        <div class="error-group" ng-if="registerForm.firstname.$touched && registerForm.firstname.$invalid">
          <small class="error" ng-show="registerForm.firstname.$error.required">First name is required.</small>
          <small class="error" ng-show="registerForm.firstname.$error.minlength">First name is required to be at least 3
            characters
          </small>
          <small class="error" ng-show="registerForm.firstname.$error.maxlength">First name cannot be longer than 20
            characters
          </small>
        </div>
      </div>
      <div id="lastname-group" class="form-group">
        <label>Last Name<span class="required">&nbsp;*</span></label>
        <input type="text" class="form-control" name="lastname" ng-minlength=3 ng-maxlength=20 required
               ng-model="regContr.dataItem.lastname" ng-change="regContr.changeLastName()" ng-model-options="{updateOn: 'blur'}"/>

        <div class="error-group" ng-if="registerForm.lastname.$touched && registerForm.lastname.$invalid">
          <small class="error" ng-show="registerForm.lastname.$error.required">Last name is required.</small>
          <small class="error" ng-show="registerForm.lastname.$error.minlength">Last name is required to be at least 3
            characters
          </small>
          <small class="error" ng-show="registerForm.lastname.$error.maxlength">Last name cannot be longer than 20
            characters
          </small>
        </div>
      </div>
      <div id="sex-group" class="form-group section">
          <ul class="hr"> 
        <li><label>Sex<span class="required">&nbsp;*</span></label></li>
        <li><div><input name="sex" type="radio" required value="1" ng-model="regContr.dataItem.sex"> Man</div></li>
        <li><div><input name="sex" type="radio" required value="0" ng-model="regContr.dataItem.sex"> Woman</div></li>
        
        <div class="error-group" ng-if="registerForm.sex.$touched && registerForm.sex.$invalid">
          <small class="error" ng-show="registerForm.sex.$error.required">Sex is required.</small>
        </div>
      </div>
      <div id="email-group" class="form-group">
        <label>Email<span class="required">&nbsp;*</span></label>
        <input type="email" class="form-control" name="email" ng-model="regContr.dataItem.email" ng-minlength=5 required
               ng-pattern="/^[A-Za-z0-9._%+-]+@epam.com$/" ng-change="regContr.changeEmail()"
               ng-model-options="{updateOn: 'blur'}"/>

        <div class="error-group" ng-if="registerForm.email.$touched && registerForm.email.$invalid">
          <small class="error" ng-show="registerForm.email.$error.required">Email is required.</small>
          <small class="error" ng-show="registerForm.email.$error.minlength">Email is required to be at least 5
            characters
          </small>
          <small class="error" ng-show="!registerForm.email.$error.minlength && registerForm.email.$error.email">That is
            not a valid email. Please input a valid email.
          </small>
          <small class="error"
                 ng-show="!registerForm.email.$error.minlength && !registerForm.email.$error.email && registerForm.email.$error.pattern">
            That is not a valid email. It must end with @epam.com. Please input a valid email.
          </small>
        </div>
      </div>

      <div id="iswill-group" class="form-group">
        <label>Are you going to be there?<span class="required">&nbsp;*</span></label>
        <select class="form-control" required ng-model="regContr.dataItem.iswill" name="iswill"
                ng-options="stat.id as stat.name for stat in regContr.statusList">
          <option selected disabled>Select an option</option>
        </select>

        <div class="error-group" ng-if="registerForm.iswill.$touched && registerForm.iswill.$invalid">
          <small class="error" ng-show="registerForm.iswill.$error.required">You should choose an option.</small>
        </div>
      </div>
      <div id="guest-group" class="checkbox">
        <label><input type="checkbox" name="isGuest" ng-model="regContr.dataItem.notalone">I'm brining a +1</label>
      </div>
      <div id="guest-name" class="form-group" ng-if="regContr.dataItem.notalone">
        <label>Name of Guest<span class="required">&nbsp;*</span></label>
        <input type="text" class="form-control" name="nameguest" ng-minlength=3 ng-maxlength=20 required
               ng-model="regContr.dataItem.nameguest"/>

        <div class="error-group" ng-if="registerForm.guestName.$touched && registerForm.guestName.$invalid">
          <small class="error" ng-show="registerForm.guestName.$error.required">Guest name is required.</small>
          <small class="error" ng-show="registerForm.guestName.$error.minlength">Guest name is required to be at least 3
            characters
          </small>
          <small class="error" ng-show="registerForm.guestName.$error.maxlength">Guest name cannot be longer than 20
            characters
          </small>
        </div>
      </div>
      <div id="error" class="form-group" ng-if="regContr.regError">
        <div class="error-group">
          <small class="error"><span ng-bind="regContr.regError"></span></small>
        </div>
      </div>
      <button type="submit" class="btn btn-success btn-lg" ng-disabled="registerForm.$invalid || regContr.regError">
        <span class="glyphicon glyphicon-flash"></span> Submit!
      </button>
    </form>
  </div>
</div>